{"version":3,"file":"static/js/119.726d2d9f.chunk.js","mappings":"gLAKMA,EAAU,SAAAC,GAAO,OAAIA,GAAWC,KAAKC,GAAK,IAAzB,EAEvB,SAASC,EAAT,GAAoC,IAAfC,EAAc,EAAdA,WAGbC,GAAQC,EAAAA,EAAAA,cAAY,SAACC,EAAGC,EAAGC,GAC/B,OAFQ,KAEDR,KAAKS,IAHJ,IAGa,SAAAH,EAAG,GAAH,SAAKC,EAAG,GAAEC,GAEhC,GAAE,CALO,GACA,OAMJE,GAAOC,EAAAA,EAAAA,UACPC,GAASD,EAAAA,EAAAA,UACf,GAA8CE,EAAAA,EAAAA,UAAQ,WACpD,IAAMC,EAAc,CAAC,SAAS,SAAS,SAAS,SAAS,SAAS,SAAS,UAmB3E,MAAO,CAAEC,IAjBG,IAAIC,EAAAA,QAiBFC,UAhBI,IAAID,EAAAA,QAgBGE,WAbP,OAAIC,MAAMhB,IAAaiB,KAAI,SAACC,EAAGC,GAC/C,IAAMC,EAAW,IAAIP,EAAAA,QAKrB,OAHAO,EAASC,EAAIR,EAAAA,UAAAA,gBAAiC,KAC9CO,EAASE,EAAIT,EAAAA,UAAAA,gBAAiC,KAC9CO,EAASG,EAAItB,EAAMmB,EAASC,EAAGD,EAASE,EAAG,GACpCF,CACR,IAMmCI,QAJrB,OAAIR,MAAMhB,IAAaiB,KAAI,WACxC,OAAO,IAAIJ,EAAAA,MAAY,IAAIF,EAAYd,KAAK4B,MAAM5B,KAAK6B,SAASf,EAAYgB,SAC7E,IAGF,GAAE,CAAC3B,EAAYC,IArBRW,EAAR,EAAQA,IAAKE,EAAb,EAAaA,UAAWC,EAAxB,EAAwBA,UAAWS,EAAnC,EAAmCA,OA2CnC,OApBAI,EAAAA,EAAAA,KAAS,SAACC,GACR,IACIC,EAA8B,GAApBC,OAAOC,WACjBC,EAA+B,GAArBF,OAAOG,YAErBzB,EAAO0B,QAAQC,SAASf,EAAI1B,GAASkC,EAAMQ,MAAMd,EAAEQ,OAAOC,WAAaF,GAAWA,EAJ3D,IAKvBrB,EAAO0B,QAAQC,SAASb,EAAI5B,GAASkC,EAAMQ,MAAMhB,EAAEU,OAAOG,YAAcD,GAAWA,EAL5D,IAMvBxB,EAAO0B,QAAQG,aAAc,EAE7B,IAAK,IAAInB,EAAI,EAAGA,EAAInB,IAAcmB,EAChCP,EAAI2B,KAAKxB,EAAUI,IACnBP,EAAIW,EAAItB,EAAMW,EAAIS,EAAGT,EAAIU,EAA2B,GAAxBO,EAAMW,MAAMC,aACxC3B,EAAU4B,YAAY9B,GACtBL,EAAK4B,QAAQQ,YAAYxB,EAAGL,GAC5BP,EAAK4B,QAAQS,WAAWzB,EAAGK,EAAOL,IAEpCZ,EAAK4B,QAAQU,eAAeP,aAAc,EAC1CQ,QAAQC,IAAItC,EAAO0B,QAAQf,SAC5B,KAGC,2BAAe4B,IAAKzC,EAAM0C,KAAM,CAAC,KAAM,KAAMjD,GAA7C,WACE,SAAC,IAAD,CAAmBkD,aAAW,EAACF,IAAKvC,EAAQW,SAAU,CAAC,EAAG,EAAG,IAAKgB,SAAU,CAAC,EAAG,EAAGzC,EAAQ,QAC3F,iCAAsBsD,KAAM,CAAC,OAC7B,kCAGL,CAiBD,UAfA,YAAoC,IAAdE,EAAa,EAAbA,UACpB,OACE,UAAC,KAAD,CAAQC,UAAW,SAAAvB,GACjBA,EAAMwB,GAAGC,cAAe,IAAIzC,EAAAA,MAAY,WACxCgB,EAAMwB,GAAGE,cAAe,GACvB,EACDC,iBAAe,EAJjB,WAKE,yBAAcC,UAAW,MACzB,uBAAYA,UAAW,GAAKrC,SAAU,EAAE,GAAG,IAAI,QAC/C,uBAAYqC,UAAW,GAAKrC,SAAU,CAAC,KAAK,KAAK,QACjD,SAACrB,EAAD,CAAWC,WAAYmD,MAG5B,C","sources":["components/Background.jsx"],"sourcesContent":["import { PerspectiveCamera } from '@react-three/drei';\r\nimport { Canvas, useFrame } from \"@react-three/fiber\";\r\nimport React, { useCallback, useMemo, useRef } from 'react';\r\nimport * as THREE from 'three';\r\n\r\nconst deg2rad = degrees => degrees * (Math.PI / 180);\r\n\r\nfunction Particles({ pointCount }) {\r\n  let fre = 0.4;\r\n  let amp = 1.75;\r\n  const graph = useCallback((a, b, t) => {\r\n    return Math.tan(fre*(a**2+b**2+t))*amp\r\n    //return amp*Math.sin(fre*a + t)*Math.cos(fre*b + t);\r\n  }, [fre, amp]);\r\n\r\n  const mesh = useRef();\r\n  const camera = useRef();\r\n  const { vec, transform, positions, colors } = useMemo(() => {\r\n    const COLOR_TYPES = [\"708C43\",\"6E823E\",\"6C7738\",\"6A6D33\",\"68622E\",\"665828\",\"644D23\"];\r\n    \r\n    const vec = new THREE.Vector3()\r\n    const transform = new THREE.Matrix4()\r\n\r\n    // Precompute randomized initial positions\r\n    const positions = [...Array(pointCount)].map((_, i) => {\r\n      const position = new THREE.Vector3()\r\n      // Place randomly in a grid\r\n      position.y = THREE.MathUtils.randFloatSpread( 100 );\r\n      position.z = THREE.MathUtils.randFloatSpread( 100 );\r\n      position.x = graph(position.y, position.z, 0);\r\n      return position\r\n    })\r\n\r\n    const colors = [...Array(pointCount)].map(() => {\r\n      return new THREE.Color(\"#\"+COLOR_TYPES[Math.floor(Math.random()*COLOR_TYPES.length)])\r\n    })\r\n\r\n    return { vec, transform, positions, colors }\r\n  }, [pointCount, graph])\r\n\r\n  useFrame((state) => {\r\n    const mouseTolerance = 0.4;\r\n    var centerX = window.innerWidth * 0.5;\r\n    var centerY = window.innerHeight * 0.5;\r\n\r\n    camera.current.rotation.y = deg2rad((state.mouse.x*window.innerWidth - centerX) / centerX * mouseTolerance)\r\n    camera.current.rotation.x = deg2rad((state.mouse.y*window.innerHeight - centerY) / centerY * mouseTolerance)\r\n    camera.current.needsUpdate = true\r\n\r\n    for (let i = 0; i < pointCount; ++i) {\r\n      vec.copy(positions[i])\r\n      vec.x = graph(vec.y, vec.z, state.clock.elapsedTime*0.5)\r\n      transform.setPosition(vec)\r\n      mesh.current.setMatrixAt(i, transform)\r\n      mesh.current.setColorAt(i, colors[i])\r\n    }\r\n    mesh.current.instanceMatrix.needsUpdate = true\r\n    console.log(camera.current.position); \r\n  })\r\n\r\n  return(\r\n    <instancedMesh ref={mesh} args={[null, null, pointCount]}>\r\n      <PerspectiveCamera makeDefault ref={camera} position={[0, 0, 70]} rotation={[0, 0, deg2rad(55)]} />\r\n      <sphereBufferGeometry args={[0.2]} />\r\n      <meshToonMaterial />\r\n    </instancedMesh>\r\n  );\r\n}\r\n\r\nfunction Background({ ballCount }) {\r\n  return (\r\n    <Canvas onCreated={state => {\r\n      state.gl.setClearColor( new THREE.Color(0xEAB48A) );\r\n      state.gl.setClearAlpha( 0.2 )\r\n      }}\r\n      colorManagement>\r\n      <ambientLight intensity={0.6} />\r\n      <pointLight intensity={0.4} position={[-70,100,100]} />\r\n      <pointLight intensity={0.3} position={[100,-100,-100]} />\r\n      <Particles pointCount={ballCount}/> \r\n    </Canvas>\r\n  );\r\n}\r\n\r\nexport default Background;"],"names":["deg2rad","degrees","Math","PI","Particles","pointCount","graph","useCallback","a","b","t","tan","mesh","useRef","camera","useMemo","COLOR_TYPES","vec","THREE","transform","positions","Array","map","_","i","position","y","z","x","colors","floor","random","length","useFrame","state","centerX","window","innerWidth","centerY","innerHeight","current","rotation","mouse","needsUpdate","copy","clock","elapsedTime","setPosition","setMatrixAt","setColorAt","instanceMatrix","console","log","ref","args","makeDefault","ballCount","onCreated","gl","setClearColor","setClearAlpha","colorManagement","intensity"],"sourceRoot":""}